THRESHOLD_SHIFT = 2**16  # to simulate float as integer